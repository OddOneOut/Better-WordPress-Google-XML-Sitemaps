function bwp_reset_exclude_form(e,t,a){e("#select-exclude-"+a).select2({ajax:{url:ajaxurl,dataType:"json",data:function(e){return{action:"bwp-gxs-get-"+a,group:t.val(),q:e.term}},processResults:function(e){return{results:e.items}}},minimumInputLength:2,templateResult:function(e){return e.title},templateSelection:function(e){return e.title}});e("#select-exclude-"+a).val(null).trigger("change");if(e.fn.dataTable.isDataTable("#table-excluded-"+a)){e("#table-excluded-"+a).DataTable().destroy();e("#wrapper-excluded-"+a).addClass("bwp-no-display")}}function bwp_select_exclude_post_cb(e,t){bwp_reset_exclude_form(e,t,"posts")}function bwp_select_exclude_term_cb(e,t){bwp_reset_exclude_form(e,t,"terms")}function bwp_view_excluded_items(e,t,a,l){var u=l=="posts"?"select_exclude_post_type":"select_exclude_taxonomy";if(!e.fn.dataTable.isDataTable("#table-excluded-"+l)){e.get(ajaxurl,{action:"bwp-gxs-get-excluded-"+l,group:e("#"+u).val()},function(t){var u=e("#table-excluded-"+l).DataTable({autoWidth:false,columns:[{data:"id",width:"15%"},{data:"title",width:"65%"},{data:"id",render:function(e){return'<button type="button" '+'data-item-id="'+e+'" '+'title="'+bwp_gxs.text.exclude_items.remove_title+'" '+'class="button-secondary bwp-ua-remove">&times;</button>'},orderable:false,width:"20%"}]});u.columns.adjust().clear().rows.add(t).draw();a()},"json")}else{a()}}function bwp_button_view_excluded_posts_cb(e,t,a){bwp_view_excluded_items(e,t,a,"posts")}function bwp_button_view_excluded_terms_cb(e,t,a){bwp_view_excluded_items(e,t,a,"terms")}function bwp_remove_excluded_item(e,t,a,l){if(!window.confirm(bwp_gxs.text.exclude_items.remove_warning)){return}jQuery.post(ajaxurl,{action:"bwp-gxs-remove-excluded-"+l,_ajax_nonce:bwp_gxs.nonce.remove_excluded_item,group:a,id:t.data("itemId")},function(a){if(a!=1){return}if(e.fn.dataTable.isDataTable("#table-excluded-"+l+"s")){e("#table-excluded-"+l+"s").DataTable().row(t.parents("tr")).remove().draw()}})}jQuery(function(e){"use strict";e("#table-excluded-posts").on("click",".bwp-ua-remove",function(t){t.preventDefault();bwp_remove_excluded_item(e,e(this),e("#select_exclude_post_type").val(),"post")});e("#table-excluded-terms").on("click",".bwp-ua-remove",function(t){t.preventDefault();bwp_remove_excluded_item(e,e(this),e("#select_exclude_taxonomy").val(),"term")})});